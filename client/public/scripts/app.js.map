{"version":3,"file":"public\\scripts\\app.js","sources":["app/application.coffee","app/collections/bookmarks.coffee","app/initialize.coffee","app/libs/communityPreparator.coffee","app/models/bookmark.coffee","app/router.coffee","app/templates/bookmark.hbs","app/templates/communityHome.hbs","app/templates/home.hbs","app/views/app_view.coffee","app/views/bookmark.coffee","app/views/communityHome.coffee","app/views/view.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,CAAC,OAAP,GAAiB;AAAA,cAAY;AAC3B;AAAA,aAAS,QAAQ,QAAR,CAAT;AAAA,IACA,IAAC,OAAD,GAAc,YADd;AAAA,IAEA,QAAQ,CAAC,OAAO,CAAC,KAAjB,EAFA,CAD2B;EAAA,CAAZ;CAAjB;;;;ACAA;;AAAA,WAAW,QAAQ,oBAAR,CAAX;;AAAA,MACM,CAAC,OAAP,GAAiB,YAAY,QAAQ,CAAC,UAAU,CAAC,MAApB,CAC3B;AAAA,SAAO,QAAP;AAAA,EACA,KAAK,WADL;CAD2B,CAD7B;;;;ACCA,EAAE,QAAF,CAAW,CAAC,KAAZ,CAAkB;AAChB;AAAA,MAAI,CAAC,MAAM,CAAC,YAAZ,GAA2B,oBAA3B;AAAA,EACA,MAAM,QAAQ,aAAR,CADN;AAAA,EAEA,GAAG,CAAC,UAAJ,EAFA,CADgB;AAAA,CAAlB;;;;ACDA,MAAM,CAAC,OAAP,GAAiB,SAAC,QAAD;AACf;AAAA,gBAAc,EAAd;AAAA,EACA,QAAQ,QAAQ,CAAC,KAAT,CAAe,aAAf,CADR;AAEA;qBAAA;AACE,QAAG,IAAI,CAAC,MAAR;AACE,iBAAW,CAAC,IAAZ,CAAiB;AAAA,QAAC,OAAM,IAAI,CAAC,KAAL,CAAW,GAAX,CAAP;OAAjB,EADF;KADF;AAAA,GAFA;SAKA,YANe;AAAA,CAAjB;;;;ACAA;;AAAA,MAAM,CAAC,OAAP,GAAiB,WAAW,QAAQ,CAAC,KAAK,CAAC,MAAf,CAAsB,EAAtB,CAA5B;;;;ACAA;;AAAA,UAAU,QAAQ,qBAAR,CAAV;;AAAA,MACM,CAAC,OAAP,GAAiB,SAAS,QAAQ,CAAC,MAAM,CAAC,MAAhB,CACxB;AAAA,UACE;AAAA,QAAI,MAAJ;GADF;AAAA,EAGA,MAAM;AACJ;AAAA,eAAe,YAAQ,EAAR,CAAf;AAAA,IACA,QAAQ,CAAC,MAAT,EADA,CADI;EAAA,CAHN;CADwB,CAD1B;;;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;;ACAA;;AAAA,eAAe,QAAQ,YAAR,CAAf;;AAAA,MACM,CAAC,OAAP,GAAiB,UAAU,QAAQ,CAAC,IAAI,CAAC,MAAd,CACzB;AAAA,MAAI,MAAJ;AAAA,EACA,UAAU,QAAQ,mBAAR,CADV;AAAA,EAEA,QACE;AAAA,2BAAuB,gBAAvB;GAHF;AAAA,EAOA,YAAY;AACV,QAAC,SAAD,CAAU,IAAC,WAAX,EAAuB,KAAvB,EAA8B,IAAC,gBAA/B,EADU;EAAA,CAPZ;AAAA,EAWA,QAAQ;AAGN,QAAC,IAAG,CAAC,IAAL,CAAU,IAAC,SAAD,EAAV;AAAA,IAGA,IAAC,WAAU,CAAC,KAAZ,EAHA,CAHM;EAAA,CAXR;AAAA,EAoBA,gBAAgB,SAAC,KAAD;AAGd,SAAK,CAAC,cAAN;AAAA,IAGA,IAAC,WAAU,CAAC,MAAZ,CACE;AAAA,aAAO,IAAC,IAAG,CAAC,IAAL,CAAU,uBAAV,CAAkC,CAAC,GAAnC,EAAP;AAAA,MACA,KAAK,IAAC,IAAG,CAAC,IAAL,CAAU,qBAAV,CAAgC,CAAC,GAAjC,EADL;KADF,CAHA,CAHc;EAAA,CApBhB;AAAA,EAgCA,iBAAiB,SAAC,QAAD;AAGf;AAAA,mBAAmB,iBAAa;AAAA,aAAO,QAAP;KAAb,CAAnB;AAAA,IACA,YAAY,CAAC,MAAb,EADA;AAAA,IAEA,IAAC,IAAG,CAAC,IAAL,CAAU,IAAV,CAAe,CAAC,MAAhB,CAAuB,YAAY,CAAC,GAApC,CAFA,CAHe;EAAA,CAhCjB;CADyB,CAD3B;;;;ACAA;;AAAA,MAAM,CAAC,OAAP,GAAiB,WAAW,QAAQ,CAAC,IAAI,CAAC,MAAd,CAC1B;AAAA,WAAS,IAAT;AAAA,EACA,UAAU,QAAQ,uBAAR,CADV;AAAA,EAEA,QACE;AAAA,sBAAkB,gBAAlB;GAHF;AAAA,EAKA,QAAQ;AACN,QAAC,IAAG,CAAC,IAAL,CAAU,IAAC,SAAD,CAAU;AAAA,gBAAU,IAAC,MAAK,CAAC,MAAP,EAAV;KAAV,CAAV,EADM;EAAA,CALR;AAAA,EASA,gBAAgB;AACd,QAAC,MAAK,CAAC,OAAP;AAAA,IACA,IAAC,OAAD,EADA,CADc;EAAA,CAThB;CAD0B,CAA5B;;;;ACAA;EAAA;;iSAAA;;AAAA,WAAW,QAAQ,QAAR,CAAX;;AAAA,mBACA,GAAsB,QAAQ,6BAAR,CADtB;;AAAA,MAGM,CAAC,OAAP,GAAuB;AACrB;;;;;;GAAA;;AAAA,sBAAI,MAAJ;;AAAA,iBACA,WAAU,QAAQ,4BAAR,CADV;;AAAA,iBAGA,SACE;AAAA,yBAAqB,YAArB;GAJF;;AAAA,iBAMA,OAAM;WACJ,IAAC,YAAD,GAAe,GADX;EAAA,CANN;;AAAA,iBASA,gBAAe;WACb;AAAA,MAAE,aAAD,IAAC,YAAF;MADa;EAAA,CATf;;AAAA,iBAYA,aAAY,SAAC,CAAD;AACV;AAAA,cAAU,CAAC,CAAC,MAAM,CAAC,KAAM,GAAzB;AAAA,IACA,SAAa,gBADb;AAAA,IAGA,MAAM,CAAC,MAAP,GAAgB,CAAC;aAAA,SAAC,OAAD;eACf,SAAC,CAAD;AACE,eAAC,YAAD,GAAe,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAA7B,CAAf;iBACA,KAAC,OAAD,GAFF;QAAA,EADe;MAAA;IAAA,QAAD,EAId,OAJc,CAHhB;WAQA,MAAM,CAAC,UAAP,CAAkB,OAAlB,EATU;EAAA,CAZZ;;cAAA;;GADkC,SAHpC;;;;ACAA;EAAA;;iSAAA;;AAAA,IAAI,MAAJ;;AAAA,SAEA,GAAY,SAAC,QAAD,EAAW,CAAX;SACV,SAAC,KAAD,EAAQ,GAAR;WACE,EAAE,QAAF,CAAW,CAAC,IAAZ,CAAiB;AACf;AAAA,cAAQ,EAAE,IAAF,CAAR;AACA,kBAAG,IAAC,SAAD,KAAa,OAAb,aAAsB,QAAzB;eACE,KAAK,CAAC,GAAN,CAAU,GAAV,EADF;OAAA;eAGE,KAAK,CAAC,IAAN,CAAW,GAAX,EAHF;OAFe;IAAA,CAAjB,EADF;EAAA,EADU;AAAA,CAFZ;;AAAA,MAcM,CAAC,OAAP,GAAuB;AAGrB;;;;;;;;GAAA;;AAAA,wBAAM,aAAN;;AAAA,iBACA,aAAY;AAEV;AAAA,QAAC,SAAD,GAAY,EAAZ;AAAA,IACA,IAAC,eAAD,GAAkB,EADlB;AAAA,IAMA,kBAAkB;aAAA;AAChB;AAAA;AAAA;aAAA;2BAAA;AACE,wBAAG,UAAC,IAAD;AACD;AAAA,sBAAU;qBACR,IAAI,CAAC,OAAL,CAAa,SAAb,EADQ;YAAA,CAAV;mBAEA,WAAW,OAAX,EAAoB,CAApB,EAHC;UAAA,EAAH,CAAI,IAAJ,GADF;AAAA;wBADgB;MAAA;IAAA,QANlB;AAAA,IAcA,IAAC,KAAI,CAAC,KAAN,CAAY,IAAZ,EAAkB,SAAlB,CAdA;WAgBA,IAAC,GAAD,CAAI,SAAJ,EAAe,eAAf,EAlBU;EAAA,CADZ;;AAAA,iBAqBA,WAAU,aArBV;;AAAA,iBAwBA,gBAAe;AACb,QAAmB,IAAC,MAApB;aAAA,IAAC,MAAK,CAAC,MAAP;KADa;EAAA,CAxBf;;AAAA,iBA2BA,YAAW,WA3BX;;AAAA,iBA6BA,SAAQ;AACN,QAAC,IAAG,CAAC,IAAL,CAAW,IAAC,SAAD,CAAU,IAAC,cAAD,EAAV,CAAX;AAAA,IACA,IAAC,YAAD,EADA;AAEA,QAAqB,IAAC,SAAD,IAAc,IAAC,MAApC;AAAA,UAAC,cAAD;KAFA;WAGA,KAJM;EAAA,CA7BR;;AAAA,iBAmCA,cAAa,aAnCb;;AAAA,iBAsCA,gBAAe;AACb;AAAA;AAAA;SAAA;sBAAA;AACE,wBAAC,SAAD,CAAU,IAAC,MAAX,EAAmB,YAAQ,GAA3B,EAAmC,UAAU,GAAV,EAAe,IAAC,EAAhB,CAAnC,GADF;AAAA;oBADa;EAAA,CAtCf;;AAAA,iBA2CA,UAAS;AACP;AAAA,QAAC,QAAD,CAAS,QAAT;AAAA,IACA,IAAC,iBAAD,EADA;AAAA,IAEA,IAAC,IAAD,EAFA;;UAGM,CAAE,GAAR,CAAY,IAAZ,EAAkB,IAAlB,EAAwB,IAAxB;KAHA;;WAIW,CAAE,GAAb,CAAiB,IAAjB,EAAuB,IAAvB,EAA6B,IAA7B;KAJA;AAKA,QAAG,IAAC,EAAJ;AACE,UAAC,EAAC,CAAC,OAAH,CAAW,SAAC,EAAD;eACT,EAAE,CAAC,GAAH,GADS;MAAA,CAAX,EADF;KALA;AAQA,QAAG,CAAC,CAAC,EAAE,CAAC,OAAR;AACE,UAAC,EAAD,CAAG,QAAH,CAAY,CAAC,OAAb,CAAqB,SAArB,EADF;KARA;AAUA;AAAA;uBAAA;AAAA,UAAI,CAAC,OAAL;AAAA,KAVA;AAAA,IAWA,WAAQ,SAXR;AAAA,IAYA,IAAC,MAAD,GAAS,IAZT;AAAA,IAaA,IAAC,WAAD,GAAc,IAbd;AAAA,IAcA,IAAC,QAAD,GAAW,IAdX;AAAA,IAeA,IAAC,OAAD,EAfA;;WAgBS,CAAE,OAAX;KAhBA;AAAA,IAiBA,IAAC,SAAD,GAAY,IAjBZ;AAAA,IAkBA,aAAa,IAAC,MAAd,CAlBA;WAoBA,KArBO;EAAA,CA3CT;;AAAA,iBAkEA,UAAS,SAAC,KAAD,EAAQ,QAAR;WACP,IAAC,MAAK,CAAC,EAAP,CAAU,KAAV,EAAiB,QAAjB,EAA2B,IAA3B,EADO;EAAA,CAlET;;AAAA,iBAqEA,eAAc,SAAC,KAAD,EAAQ,QAAR;WACZ,IAAC,WAAU,CAAC,EAAZ,CAAe,KAAf,EAAsB,QAAtB,EAAgC,IAAhC,EADY;EAAA,CArEd;;AAAA,iBAwEA,SAAQ;WACN,IAAC,IAAG,CAAC,MAAL,GADM;EAAA,CAxER;;cAAA;;GAHkC,QAAQ,CAAC,KAd7C","sourcesContent":["module.exports = initialize: ->\r\n  Router = require(\"router\")\r\n  @router = new Router()\r\n  Backbone.history.start()\r\n  return","Bookmark = require(\"../models/bookmark\")\r\nmodule.exports = Bookmarks = Backbone.Collection.extend\r\n  model: Bookmark\r\n  url: \"bookmarks\"\r\n","# The function called from index.html\r\n$(document).ready ->\r\n  Swag.Config.partialsPath = './views/templates/'\r\n  app = require(\"application\")\r\n  app.initialize()\r\n  return\r\n","module.exports = (fileText) ->\r\n  communities = []\r\n  lines = fileText.split(/\\r\\n|\\r|\\n/g)\r\n  for line in lines\r\n    if line.length\r\n      communities.push {nodes:line.split(\" \")}\r\n  communities","module.exports = Bookmark = Backbone.Model.extend({})","AppHome = require(\"views/communityHome\")\r\nmodule.exports = Router = Backbone.Router.extend\r\n  routes:\r\n    \"\": \"main\"\r\n\r\n  main: ->\r\n    mainView = new AppHome({})\r\n    mainView.render()\r\n    return\r\n","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  helpers = helpers || Handlebars.helpers;\n  var buffer = \"\", stack1, foundHelper, self=this, functionType=\"function\", helperMissing=helpers.helperMissing, undef=void 0, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<a href=\\\"\";\n  foundHelper = helpers.bookmark;\n  stack1 = foundHelper || depth0.bookmark;\n  stack1 = (stack1 === null || stack1 === undefined || stack1 === false ? stack1 : stack1.url);\n  if(typeof stack1 === functionType) { stack1 = stack1.call(depth0, { hash: {} }); }\n  else if(stack1=== undef) { stack1 = helperMissing.call(depth0, \"bookmark.url\", { hash: {} }); }\n  buffer += escapeExpression(stack1) + \"\\\" target=\\\"_blank\\\">\";\n  foundHelper = helpers.bookmark;\n  stack1 = foundHelper || depth0.bookmark;\n  stack1 = (stack1 === null || stack1 === undefined || stack1 === false ? stack1 : stack1.title);\n  if(typeof stack1 === functionType) { stack1 = stack1.call(depth0, { hash: {} }); }\n  else if(stack1=== undef) { stack1 = helperMissing.call(depth0, \"bookmark.title\", { hash: {} }); }\n  buffer += escapeExpression(stack1) + \"</a>\\r\\n\\r\\n&nbsp; (\\r\\n<a class=\\\"delete\\\">delete</a>\\r\\n)\\r\\n\";\n  return buffer;});","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  helpers = helpers || Handlebars.helpers;\n  var buffer = \"\", stack1, stack2, foundHelper, tmp1, self=this, functionType=\"function\", helperMissing=helpers.helperMissing, undef=void 0, escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, stack2;\n  buffer += \"\\r\\n    <h3>\";\n  stack1 = \"Community\";\n  foundHelper = helpers.lowercase;\n  stack2 = foundHelper || depth0.lowercase;\n  if(typeof stack2 === functionType) { stack1 = stack2.call(depth0, stack1, { hash: {} }); }\n  else if(stack2=== undef) { stack1 = helperMissing.call(depth0, \"lowercase\", stack1, { hash: {} }); }\n  else { stack1 = stack2; }\n  buffer += escapeExpression(stack1) + \"</h3>\\r\\n\";\n  return buffer;}\n\n  buffer += \"<h1>Community Detection Algorithms Visualization App</h1>\\r\\n\\r\\n<label>Please Choose a file to load into the system:</label>\\r\\n<br />\\r\\n<input id=\\\"load-file\\\" type=\\\"file\\\" value=\\\"Choose File\\\"/>\\r\\n\\r\\n\";\n  foundHelper = helpers.communities;\n  stack1 = foundHelper || depth0.communities;\n  stack2 = helpers.each;\n  tmp1 = self.program(1, program1, data);\n  tmp1.hash = {};\n  tmp1.fn = tmp1;\n  tmp1.inverse = self.noop;\n  stack1 = stack2.call(depth0, stack1, tmp1);\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  return buffer;});","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  helpers = helpers || Handlebars.helpers;\n  var foundHelper, self=this;\n\n\n  return \"<h1>Welcome on My Own Bookmarks</h1>\\r\\n<p>This application will help you manage your bookmarks!</p>\\r\\n<form>\\r\\n    <label>Title:</label>\\r\\n    <input type=\\\"text\\\" name=\\\"title\\\"/>\\r\\n    <label>Url:</label>\\r\\n    <input type=\\\"text\\\" name=\\\"url\\\"/>\\r\\n    <input id=\\\"add-bookmark\\\" type=\\\"submit\\\" value=\\\"Add a new bookmark\\\"/>\\r\\n</form>\\r\\n<ul></ul>\";});","BookmarkView = require(\"./bookmark\")\r\nmodule.exports = AppView = Backbone.View.extend\r\n  el: \"body\"\r\n  template: require(\"../templates/home\")\r\n  events:\r\n    \"click #add-bookmark\": \"createBookmark\"\r\n\r\n\r\n# initialize is automatically called once after the view is constructed\r\n  initialize: ->\r\n    @listenTo @collection, \"add\", @onBookmarkAdded\r\n    return\r\n\r\n  render: ->\r\n\r\n    # we render the template\r\n    @$el.html @template()\r\n\r\n    # fetch the bookmarks from the database\r\n    @collection.fetch()\r\n    return\r\n\r\n  createBookmark: (event) ->\r\n\r\n    # submit button reload the page, we don't want that\r\n    event.preventDefault()\r\n\r\n    # add it to the collection\r\n    @collection.create\r\n      title: @$el.find(\"input[name=\\\"title\\\"]\").val()\r\n      url: @$el.find(\"input[name=\\\"url\\\"]\").val()\r\n\r\n    return\r\n\r\n  onBookmarkAdded: (bookmark) ->\r\n\r\n    # render the specific element\r\n    bookmarkView = new BookmarkView(model: bookmark)\r\n    bookmarkView.render()\r\n    @$el.find(\"ul\").append bookmarkView.$el\r\n    return\r\n","module.exports = Bookmark = Backbone.View.extend\r\n  tagName: \"li\"\r\n  template: require(\"../templates/bookmark\")\r\n  events:\r\n    \"click a.delete\": \"deleteBookmark\"\r\n\r\n  render: ->\r\n    @$el.html @template(bookmark: @model.toJSON())\r\n    return\r\n\r\n  deleteBookmark: ->\r\n    @model.destroy()\r\n    @remove()\r\n    return\r\n","BaseView = require \"./view\"\r\ncommunityPreparator = require \"../libs/communityPreparator\"\r\n\r\nmodule.exports = class View extends BaseView\r\n  el: \"body\"\r\n  template: require(\"../templates/communityHome\")\r\n\r\n  events:\r\n    \"change #load-file\": \"fileLoaded\"\r\n\r\n  init: =>\r\n    @communities = []\r\n\r\n  getRenderData: ->\r\n    {@communities}\r\n\r\n  fileLoaded: (e) =>\r\n    fileRef = e.target.files[0]\r\n    reader = new FileReader()\r\n\r\n    reader.onload = ((theFile) =>\r\n      (e) =>\r\n        @communities = communityPreparator(e.target.result)\r\n        @render()\r\n    )(fileRef)\r\n    reader.readAsText fileRef\r\n","$ = jQuery\n\nbindingFn = (selector, $) ->\n  (model, val) ->\n    $(selector).each ->\n      $elem = $(@)\n      if @tagName in [\"INPUT\", \"SELECT\"]\n        $elem.val(val)\n      else\n        $elem.text(val)\n\n\n\n# Base class for all views.\nmodule.exports = class View extends Backbone.View\n\n\n  init: ->\n  initialize: =>\n\n    @subViews = {}\n    @subViewsByType = {}\n\n    # We have to ensure a timeout so that parent views are rendered before\n    # child views\n    # Not sure why underscore defer didnt work here....\n    triggerSubViews = =>\n      for key, view of @subViews\n        do (view) ->\n          trigger = ->\n            view.trigger(\"visible\")\n          setTimeout trigger, 1\n\n\n    @init.apply this, arguments\n\n    @on \"visible\", triggerSubViews\n\n  template: ->\n    return\n\n  getRenderData: =>\n    @model.toJSON() if @model\n\n  className: \"main-view\"\n\n  render: =>\n    @$el.html (@template @getRenderData())\n    @afterRender()\n    @setupBindings() if (@bindings and @model)\n    this\n\n  afterRender: ->\n    return\n\n  setupBindings: ->\n    for key, val of @bindings\n      @listenTo @model, \"change:#{key}\", bindingFn(val, @$)\n\n\n  dispose: ->\n    @trigger(\"remove\")\n    @undelegateEvents() # Remove dom events\n    @off() # Remove this views events\n    @model?.off(null, null, this) # Remove model events that have this views context\n    @collection?.off(null, null, this) # Remove collection events that have this views context\n    if @r # Remove Raphael events\n      @r.forEach (el) ->\n        el.off()\n    if $.fn.select2\n      @$('select').select2(\"destroy\")\n    view.dispose() for id, view of @subViews\n    delete @subViews\n    @model = null\n    @collection = null\n    @options = null\n    @remove()\n    @scroller?.destroy()\n    @scroller = null\n    clearTimeout(@timer)\n    #console.warn \"dispose\", @constructor.name, @subViews\n    this\n\n  modelOn: (event, callback) ->\n    @model.on event, callback, this\n\n  collectionOn: (event, callback) ->\n    @collection.on event, callback, this\n\n  detach: =>\n    @$el.detach()"]}