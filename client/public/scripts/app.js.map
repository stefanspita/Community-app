{"version":3,"file":"public\\scripts\\app.js","sources":["app/application.coffee","app/charts/barsLine.coffee","app/charts/colors.coffee","app/collections/bookmarks.coffee","app/data/possibleValues.coffee","app/initialize.coffee","app/libs/communityMapping.coffee","app/libs/dataMapping.coffee","app/libs/forceInt.coffee","app/libs/tempViews.coffee","app/models/bookmark.coffee","app/router.coffee","app/templates/bookmark.hbs","app/templates/communityHome.hbs","app/templates/home.hbs","app/templates/option.hbs","app/templates/results.hbs","app/views/app_view.coffee","app/views/bookmark.coffee","app/views/communityHome.coffee","app/views/option.coffee","app/views/results.coffee","app/views/view.coffee"],"names":[],"mappings":"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","sourcesContent":["module.exports = initialize: ->\r\n  Router = require(\"router\")\r\n  @router = new Router()\r\n  Backbone.history.start()\r\n  return","defaults =\r\n  width:700\r\n  height:350\r\n  margin:\r\n    top: 10\r\n    right: 10\r\n    bottom: 50\r\n    left: 40\r\n  margin2:\r\n    top:330\r\n    right:10\r\n    bottom:20\r\n    left:40\r\n\r\n  xKey:\"date\"\r\n  yKey:\"balance\"\r\n  data:[]\r\n  eventData:[]\r\n  eventChange: ->\r\n  onClick: ->\r\n  processData: (raw) ->\r\n    for item in raw\r\n      plus = item.plus\r\n      minus = item.minus\r\n      year = item.year\r\n      line = item.line\r\n      {plus, minus, year, line}\r\n\r\ncolors = require(\"./colors\")\r\n\r\nmodule.exports = (opts) ->\r\n\r\n  defaultWidth = 700\r\n  options = _.extend {}, defaults, {width:defaultWidth}, opts\r\n  {margin, margin2} = options\r\n\r\n  if options.yKey2\r\n    margin.right = 40\r\n\r\n  width = options.width - margin.left - margin.right\r\n  height = options.height - margin.top - margin.bottom\r\n  formatPercent = d3.format(\"s\")\r\n\r\n  xbar = d3.scale.ordinal().rangeRoundBands([0, width], .1)\r\n  y = d3.scale.linear().range([(height), (0)])\r\n\r\n  blues = colors.blue\r\n  blue1 = opts.blue1 ? blues[0]\r\n  blue2 = opts.blue2 ? blues[4]\r\n  colorInterpolate = d3.interpolateRgb(blue1, blue2)\r\n  colorScale = d3.scale.linear().range([1,0])\r\n  colorScaleMinus = d3.scale.linear().range([1,0])\r\n  color =  (y) ->\r\n    colorInterpolate colorScale y\r\n\r\n  reds = colors.orange\r\n  red1 = opts.red1 ? reds[0]\r\n  red2 = opts.red2 ? reds[2]\r\n  redInterpolate = d3.interpolateRgb(red1, red2)\r\n  colorRed =  (y) ->\r\n    redInterpolate colorScaleMinus y\r\n\r\n\r\n  xAxis = d3.svg.axis().scale(xbar).orient(\"bottom\")\r\n  .tickSize(6)\r\n\r\n\r\n  yAxis = d3.svg.axis().scale(y).orient(\"left\").tickFormat(formatPercent).ticks(5)\r\n\r\n  svg = d3.select(options.elem)\r\n  .append(\"svg\")\r\n  .attr(\"width\", width + margin.left + margin.right)\r\n  .attr(\"height\", height + margin.top + margin.bottom)\r\n\r\n  svg.append(\"defs\").append(\"clipPath\")\r\n  .attr(\"id\", \"clip\")\r\n  .append(\"rect\")\r\n  .attr(\"width\", width + 50)\r\n  .attr(\"height\", height)\r\n\r\n  focus = svg.append(\"g\")\r\n  .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n\r\n\r\n  data = options.processData(options.data)\r\n\r\n  years = _.pluck data, \"year\"\r\n  xbar.domain years\r\n  maxTicks = 20\r\n\r\n  if years.length > maxTicks\r\n    skip = Math.round(years.length / maxTicks)\r\n    xAxis.tickValues (year for year in years by skip)\r\n\r\n  max = d3.max data, d3.get(\"plus\")\r\n  min = d3.min data, d3.get(\"minus\")\r\n\r\n  yExtent = [min, max]\r\n  y.domain( yExtent )\r\n  colorScale.domain [0, max]\r\n  colorScaleMinus.domain [min, 0]\r\n\r\n  plus = focus.selectAll(\".plus\")\r\n  .data(data)\r\n  .enter().append(\"rect\")\r\n  .attr(\"class\", \"plus\")\r\n  .attr(\"x\", (d) -> xbar(d.year))\r\n  .attr(\"width\", xbar.rangeBand())\r\n  .attr(\"y\", (d) -> y(0))\r\n  .attr(\"height\", 0)\r\n  .attr(\"fill\", (d) -> color(d.plus))\r\n  .on \"click\", options.onClick\r\n\r\n  minus = focus.selectAll(\".minus\")\r\n  .data(data)\r\n  .enter().append(\"rect\")\r\n  .attr(\"class\", \"minus\")\r\n  .attr(\"x\", (d) -> xbar(d.year))\r\n  .attr(\"width\", xbar.rangeBand())\r\n  .attr(\"y\", (d) -> y(0))\r\n  .attr(\"height\", 0)\r\n  .attr(\"fill\", (d) -> colorRed(d.minus))\r\n  .on \"click\", options.onClick\r\n\r\n  do draw = ->\r\n    plus.transition()\r\n    .delay((d,i) -> i * 50)\r\n    .duration(1000)\r\n    .attr(\"y\", (d) -> y(d.plus))\r\n    .attr(\"height\", (d) -> y(0) - y(d.plus))\r\n    minus.transition()\r\n    .delay((d,i) -> i * 50)\r\n    .duration(1000)\r\n    .attr(\"y\", y(0))\r\n    .attr(\"height\", (d) -> y(d.minus) - y(0))\r\n\r\n\r\n  xg = focus.append(\"g\")\r\n  .attr(\"class\", \"x axis withRect\")\r\n  .attr(\"transform\", \"translate(0,\" + y(0) + \")\")\r\n  .call(xAxis)\r\n\r\n  xg.selectAll(\"g\").insert(\"rect\", \"text\")\r\n  .attr(\"width\", 55)\r\n  .attr(\"height\", 14)\r\n  .attr(\"x\", -58)\r\n  .attr(\"rx\",3)\r\n  .attr(\"ry\",3)\r\n  .attr(\"fill\",\"#66E0FF\")\r\n  .attr(\"transform\", \"rotate(-45)\")\r\n\r\n  xg.selectAll(\"text\")\r\n  .style(\"text-anchor\", \"end\")\r\n  .attr(\"dx\", \"-.8em\")\r\n  .attr(\"dy\", \".15em\")\r\n  .attr(\"transform\", \"rotate(-45)\")\r\n\r\n\r\n  yg = focus.append(\"g\")\r\n  .attr(\"class\", \"y axis\")\r\n  .call(yAxis)\r\n\r\n  if options.line\r\n    xpad = xbar.rangeBand() / 2\r\n    line = d3.svg.line()\r\n    .x( (d) -> xpad + xbar(d.year))\r\n    .y( d3.get(\"line\", y))\r\n    netLine = focus.append(\"path\")\r\n    .datum(data)\r\n    .attr(\"d\", line)\r\n    .attr(\"class\", \"line\")\r\n    .style(\"stroke\", \"#506930\")\r\n    .style(\"stroke-width\",\"5px\")\r\n\r\n\r\n  (freshData) ->\r\n    if _.isFunction(freshData)\r\n      data = freshData(options.data)\r\n    else\r\n      data = options.processData(freshData)\r\n\r\n    max = d3.max data, d3.get(\"plus\")\r\n    min = d3.min data, d3.get(\"minus\")\r\n    yExtent = [min, max]\r\n    y.domain(yExtent)\r\n    colorScale.domain [0, max]\r\n    colorScaleMinus.domain [min, 0]\r\n\r\n\r\n    plus.data(data)\r\n    .transition().duration(1000)\r\n    .delay((d,i) -> i * 50)\r\n    .attr(\"y\", (d) -> y(d.plus))\r\n    .attr(\"height\", (d) -> y(0) - y(d.plus))\r\n    .attr(\"fill\", (d) -> color(d.plus))\r\n\r\n    minus.data(data)\r\n    .transition().duration(1000)\r\n    .delay((d,i) -> i * 50)\r\n    .attr(\"y\", y(0))\r\n    .attr(\"height\", (d) -> y(d.minus) - y(0))\r\n    .attr(\"fill\", (d) -> colorRed(d.minus))\r\n\r\n    xg.transition().duration(1000)\r\n    .attr(\"transform\", \"translate(0,\" + y(0) + \")\")\r\n    yg.transition().duration(1000).call(yAxis)\r\n\r\n    if netLine\r\n      netLine.datum(data)\r\n      .transition().duration(2000).attr(\"d\", line)","grey = \"#404040,#4b4b4b,#575757,#646464,#717171\".split(\",\")\r\nblue = \"#3e7ba1,#478eba,#51a2d4,#5fbdf9,#6dd8ff\".split(\",\")\r\ngreen = \"#506930,#5c7837,#698a3f,#7ca14a,#8db854\".split(\",\")\r\norange = \"#ff6c00,#ff8e00,#ff8e00,#ffa500,#ffbc00\".split(\",\")\r\nred = \"#A13E3E,#BA4747,#D45151,#F95F5F,#FF6D6D\".split(\",\")\r\nstacked=\"#ff8e00,#51a2d4,#ff6c00,#3e7ba1,#ffa500,#5fbdf9,#ff8e00,#51a2d4,#ff6c00,#3e7ba1,#ffa500,#5fbdf9\".split(\",\")\r\n\r\n#\r\nallColors = {orange,blue,green,red, grey}\r\nall = [].concat(blue,green,orange, red, grey)\r\nmix = []\r\nmix2 = []\r\nfor i in [2,3,4,1,0]\r\n  for color in [\"green\",\"blue\",\"orange\",\"grey\", \"red\"]\r\n    mix.push allColors[color][i]\r\nfor i in [2..4]\r\n  for key, colors of allColors when key isnt \"grey\"\r\n    mix2.push colors[i]\r\n\r\nallColors.mix = mix\r\nallColors.mix2 = mix2\r\nallColors.orangeBlue = [orange[0]].concat(blue)\r\nallColors.spectral = [\"#9e0142\",\"#d53e4f\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#ffffbf\",\"#e6f598\",\"#abdda4\",\"#66c2a5\",\"#3288bd\",\"#5e4fa2\"]\r\nallColors.spectral2 = [\"#a50026\",\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#ffffbf\",\"#d9ef8b\",\"#a6d96a\",\"#66bd63\",\"#1a9850\",\"#006837\"]\r\nallColors.spectral3 = [\"#fcfbfd\",\"#efedf5\",\"#dadaeb\",\"#bcbddc\",\"#9e9ac8\",\"#807dba\",\"#6a51a3\",\"#54278f\",\"#3f007d\",\"#fff5eb\",\"#fee6ce\",\"#fdd0a2\",\"#fdae6b\",\"#fd8d3c\",\"#f16913\",\"#d94801\",\"#a63603\",\"#7f2704\"]\r\nallColors.mix3=stacked\r\nmodule.exports = allColors","Bookmark = require(\"../models/bookmark\")\r\nmodule.exports = Bookmarks = Backbone.Collection.extend\r\n  model: Bookmark\r\n  url: \"bookmarks\"\r\n","module.exports =\r\n  cct1000: [-1, 1, 2]\r\n  cct1001: [-1, 1, 2]\r\n  cct1002: [-1, 1, 2]\r\n  cct1003: [-1, 1, 2]\r\n  cct1004: [-1, 1, 2]\r\n  cct1005: [-1, 1, 2]\r\n  cct1006: [-1, 1, 2]\r\n  cct1007: [-1, 1, 2]\r\n  cct1008: [-1, 1, 2]\r\n  cct1009: [-1, 1, 2]\r\n  cct1010: [-1, 1, 2]\r\n  cct1011: [-1, 1, 2]\r\n\r\n","# The function called from index.html\r\n$(document).ready ->\r\n  Swag.Config.partialsPath = './views/templates/'\r\n  app = require(\"application\")\r\n  app.initialize()\r\n  return\r\n","module.exports = (fileText, separator = \" \") ->\r\n  communities = []\r\n  lines = fileText.split(/\\r\\n|\\r|\\n/g)\r\n  for line in lines\r\n    if line.length\r\n      communities.push line.split(separator)\r\n  communities","module.exports = (fileText, separator = \" \", header = false) ->\r\n  communities = {}\r\n  lines = fileText.split(/\\r\\n|\\r|\\n/g)\r\n  if header\r\n    header = lines[0]\r\n    header = header.split(separator)\r\n    lines.splice(0, 1)\r\n  for line in lines\r\n    if line.length\r\n      localLine = line.split(separator)\r\n      communities[localLine[0]] = localLine\r\n  communities[\"header\"] = header\r\n  communities","module.exports = (str) ->\r\n  str = \"#{str}\".replace(/,/g,\"\").replace(/\\s/g,\"\").replace(/%/g,\"\")\r\n  out = Math.round str\r\n  out = 0 if _.isNaN(out)\r\n  out","# This object holds tempory view data\r\nmodule.exports = {}\r\n","module.exports = Bookmark = Backbone.Model.extend({})","AppHome = require(\"views/communityHome\")\r\nmodule.exports = Router = Backbone.Router.extend\r\n  routes:\r\n    \"\": \"main\"\r\n\r\n  main: ->\r\n    mainView = new AppHome({})\r\n    mainView.render()\r\n    return\r\n","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  helpers = helpers || Handlebars.helpers;\n  var buffer = \"\", stack1, foundHelper, self=this, functionType=\"function\", helperMissing=helpers.helperMissing, undef=void 0, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<a href=\\\"\";\n  foundHelper = helpers.bookmark;\n  stack1 = foundHelper || depth0.bookmark;\n  stack1 = (stack1 === null || stack1 === undefined || stack1 === false ? stack1 : stack1.url);\n  if(typeof stack1 === functionType) { stack1 = stack1.call(depth0, { hash: {} }); }\n  else if(stack1=== undef) { stack1 = helperMissing.call(depth0, \"bookmark.url\", { hash: {} }); }\n  buffer += escapeExpression(stack1) + \"\\\" target=\\\"_blank\\\">\";\n  foundHelper = helpers.bookmark;\n  stack1 = foundHelper || depth0.bookmark;\n  stack1 = (stack1 === null || stack1 === undefined || stack1 === false ? stack1 : stack1.title);\n  if(typeof stack1 === functionType) { stack1 = stack1.call(depth0, { hash: {} }); }\n  else if(stack1=== undef) { stack1 = helperMissing.call(depth0, \"bookmark.title\", { hash: {} }); }\n  buffer += escapeExpression(stack1) + \"</a>\\r\\n\\r\\n&nbsp; (\\r\\n<a class=\\\"delete\\\">delete</a>\\r\\n)\\r\\n\";\n  return buffer;});","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  helpers = helpers || Handlebars.helpers;\n  var foundHelper, self=this;\n\n\n  return \"<h1>Community Visualization App</h1>\\r\\n\\r\\n<div class=\\\"box\\\">\\r\\n    <label>Please Choose the data file:</label>\\r\\n    <br />\\r\\n    <input type=\\\"file\\\" name=\\\"files\\\" id=\\\"initial\\\" />\\r\\n</div>\\r\\n\\r\\n<div class=\\\"box\\\">\\r\\n    <label>Please Choose the communities file:</label>\\r\\n    <br />\\r\\n    <input type=\\\"file\\\" name=\\\"files\\\" id=\\\"final\\\" />\\r\\n</div>\\r\\n\\r\\n<h2>Results</h2>\\r\\n<div id=\\\"resultsTemplate\\\"></div>\";});","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  helpers = helpers || Handlebars.helpers;\n  var foundHelper, self=this;\n\n\n  return \"<h1>Welcome on My Own Bookmarks</h1>\\r\\n<p>This application will help you manage your bookmarks!</p>\\r\\n<form>\\r\\n    <label>Title:</label>\\r\\n    <input type=\\\"text\\\" name=\\\"title\\\"/>\\r\\n    <label>Url:</label>\\r\\n    <input type=\\\"text\\\" name=\\\"url\\\"/>\\r\\n    <input id=\\\"add-bookmark\\\" type=\\\"submit\\\" value=\\\"Add a new bookmark\\\"/>\\r\\n</form>\\r\\n<ul></ul>\";});","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  helpers = helpers || Handlebars.helpers;\n  var buffer = \"\", stack1, stack2, foundHelper, tmp1, self=this, functionType=\"function\", helperMissing=helpers.helperMissing, undef=void 0, escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\r\\n        <option value=\\\"\";\n  stack1 = depth0;\n  if(typeof stack1 === functionType) { stack1 = stack1.call(depth0, { hash: {} }); }\n  else if(stack1=== undef) { stack1 = helperMissing.call(depth0, \".\", { hash: {} }); }\n  buffer += escapeExpression(stack1) + \"\\\">\";\n  stack1 = depth0;\n  if(typeof stack1 === functionType) { stack1 = stack1.call(depth0, { hash: {} }); }\n  else if(stack1=== undef) { stack1 = helperMissing.call(depth0, \".\", { hash: {} }); }\n  buffer += escapeExpression(stack1) + \"</option>\\r\\n    \";\n  return buffer;}\n\n  buffer += \"<select name=\\\"\";\n  foundHelper = helpers.name;\n  stack1 = foundHelper || depth0.name;\n  if(typeof stack1 === functionType) { stack1 = stack1.call(depth0, { hash: {} }); }\n  else if(stack1=== undef) { stack1 = helperMissing.call(depth0, \"name\", { hash: {} }); }\n  buffer += escapeExpression(stack1) + \"\\\">\\r\\n    <option value=\\\"\\\"></option>\\r\\n    \";\n  foundHelper = helpers.headers;\n  stack1 = foundHelper || depth0.headers;\n  stack2 = helpers.each;\n  tmp1 = self.program(1, program1, data);\n  tmp1.hash = {};\n  tmp1.fn = tmp1;\n  tmp1.inverse = self.noop;\n  stack1 = stack2.call(depth0, stack1, tmp1);\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\r\\n</select>\\r\\n\";\n  return buffer;});","module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  helpers = helpers || Handlebars.helpers;\n  var buffer = \"\", stack1, stack2, foundHelper, tmp1, self=this, functionType=\"function\", helperMissing=helpers.helperMissing, undef=void 0, escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"<p class=\\\"error\\\">\";\n  foundHelper = helpers.error;\n  stack1 = foundHelper || depth0.error;\n  if(typeof stack1 === functionType) { stack1 = stack1.call(depth0, { hash: {} }); }\n  else if(stack1=== undef) { stack1 = helperMissing.call(depth0, \"error\", { hash: {} }); }\n  buffer += escapeExpression(stack1) + \"</p>\";\n  return buffer;}\n\n  foundHelper = helpers.error;\n  stack1 = foundHelper || depth0.error;\n  stack2 = helpers['if'];\n  tmp1 = self.program(1, program1, data);\n  tmp1.hash = {};\n  tmp1.fn = tmp1;\n  tmp1.inverse = self.noop;\n  stack1 = stack2.call(depth0, stack1, tmp1);\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\r\\n<form class=\\\"options\\\"></form>\\r\\n\";\n  buffer += \"\\r\\n\\r\\n<div id=\\\"graph\\\"></div>\";\n  return buffer;});","BookmarkView = require(\"./bookmark\")\r\nmodule.exports = AppView = Backbone.View.extend\r\n  el: \"body\"\r\n  template: require(\"../templates/home\")\r\n  events:\r\n    \"click #add-bookmark\": \"createBookmark\"\r\n\r\n\r\n# initialize is automatically called once after the view is constructed\r\n  initialize: ->\r\n    @listenTo @collection, \"add\", @onBookmarkAdded\r\n    return\r\n\r\n  render: ->\r\n\r\n    # we render the template\r\n    @$el.html @template()\r\n\r\n    # fetch the bookmarks from the database\r\n    @collection.fetch()\r\n    return\r\n\r\n  createBookmark: (event) ->\r\n\r\n    # submit button reload the page, we don't want that\r\n    event.preventDefault()\r\n\r\n    # add it to the collection\r\n    @collection.create\r\n      title: @$el.find(\"input[name=\\\"title\\\"]\").val()\r\n      url: @$el.find(\"input[name=\\\"url\\\"]\").val()\r\n\r\n    return\r\n\r\n  onBookmarkAdded: (bookmark) ->\r\n\r\n    # render the specific element\r\n    bookmarkView = new BookmarkView(model: bookmark)\r\n    bookmarkView.render()\r\n    @$el.find(\"ul\").append bookmarkView.$el\r\n    return\r\n","module.exports = Bookmark = Backbone.View.extend\r\n  tagName: \"li\"\r\n  template: require(\"../templates/bookmark\")\r\n  events:\r\n    \"click a.delete\": \"deleteBookmark\"\r\n\r\n  render: ->\r\n    @$el.html @template(bookmark: @model.toJSON())\r\n    return\r\n\r\n  deleteBookmark: ->\r\n    @model.destroy()\r\n    @remove()\r\n    return\r\n","BaseView = require \"./view\"\r\ndataMapping = require \"../libs/dataMapping\"\r\ncommunityMapping = require \"../libs/communityMapping\"\r\nResultsView = require \"./results\"\r\n\r\nmodule.exports = class View extends BaseView\r\n  el: \"body\"\r\n  template: require(\"../templates/communityHome\")\r\n\r\n  events:\r\n    \"change #initial\": \"loadFile\"\r\n    \"change #final\": \"loadFile\"\r\n\r\n  init: =>\r\n    @initialData = {}\r\n    @finalData = []\r\n\r\n  afterRender: =>\r\n    resultsView = new ResultsView({@initialData, @finalData})\r\n    @$el.find(\"#resultsTemplate\").html resultsView.render().$el\r\n\r\n  processInitial: =>\r\n    @initialData = dataMapping(event.target.result, \",\", true)\r\n    @render()\r\n\r\n  processFinal: =>\r\n    @finalData = communityMapping(event.target.result)\r\n    @render()\r\n\r\n  loadFile: (e) =>\r\n    inputId = $(e.target).attr(\"id\")\r\n    fileRef = e.target.files[0]\r\n    reader = new FileReader()\r\n    reader.onload = ((theFile) =>\r\n      (event) =>\r\n        if inputId is \"initial\"\r\n          @processInitial()\r\n        else\r\n          @processFinal()\r\n    )(fileRef)\r\n    reader.readAsText fileRef\r\n\r\n","BaseView = require \"./view\"\r\n\r\nmodule.exports = class View extends BaseView\r\n  template: require(\"../templates/option\")\r\n\r\n  events:\r\n    \"click a.delete\": \"deleteOption\"\r\n\r\n  init: ->\r\n\r\n  getRenderData: ->\r\n    @options\r\n\r\n  deleteOption: ->\r\n    @remove()\r\n    Backbone.trigger 'filterOption:removed'\r\n    return","BaseView = require \"./view\"\r\nOptionView = require \"./option\"\r\nforceInt = require \"../libs/forceInt\"\r\nBarsLine = require \"../charts/barsLine\"\r\npossibleValues = require \"../data/possibleValues\"\r\n\r\ngetSummary = (results, indexes, headers) ->\r\n  i = indexes[0]\r\n  h = headers[i]\r\n  summary = []\r\n  for val in possibleValues[h]\r\n    r = _.countBy results, (community) ->\r\n      if community.attributesSet > 2\r\n        return (forceInt(community.attributeVals[\"#{i}\"][\"#{val}\"]) / community.attributesSet * 100).toFixed(2)\r\n      else return false\r\n    summary.push {val, count:r}\r\n  return summary\r\n\r\ndataMap = (result) ->\r\n  final = []\r\n  for a, b of result.count\r\n    unless a is \"false\"\r\n      final.push {plus:b, minus:0, year:a}\r\n  final = _.sortBy final, (v) ->\r\n    forceInt(v.year)\r\n  return final\r\n\r\nmodule.exports = class View extends BaseView\r\n  template: require(\"../templates/results\")\r\n\r\n  events:\r\n    \"click #addOption\": \"addOption\"\r\n    \"change select\": \"updateData\"\r\n\r\n  init: ->\r\n    @initialData = @options.initialData\r\n    @finalData = @options.finalData\r\n    @optionCount = 0\r\n    @listenTo Backbone, 'filterOption:removed', @updateData\r\n\r\n  getRenderData: ->\r\n    {error:@validate()}\r\n\r\n  afterRender: =>\r\n    if @validate() is \"\"\r\n      @$(\"addOption\").show()\r\n      @addOption()\r\n\r\n  updateData: ->\r\n    data = @$(\"form\").serializeArray()\r\n    indexes = @getIndexes(data)\r\n    correlationResults = @getCorrelationPercentages(indexes)\r\n    correlationResults = getSummary(correlationResults, indexes, @initialData.header)\r\n    @$('#graph').empty()\r\n\r\n    for val in correlationResults\r\n      @$('#graph').append \"\"\" <h3>Number of communities matching value #{val.val}</h3> \"\"\"\r\n      BarsLine\r\n        data:val\r\n        elem:@$('#graph')[0]\r\n        processData: dataMap\r\n\r\n  getCorrelationPercentages: (indexes) =>\r\n    correlationResults = []\r\n    for community, index in @finalData\r\n      attributesSet = _.countBy community, (node) =>\r\n        if @initialData[node]\r\n          for i in indexes\r\n            if @initialData[node][i] > -10\r\n              return true\r\n        return false\r\n      attributeVals = {}\r\n      for i in indexes\r\n        attributeVals[\"#{i}\"] = _.countBy community, (node) =>\r\n          if @initialData[node]\r\n            return @initialData[node][i]\r\n          else return false\r\n      correlationResults.push {totalNodes:community.length, attributesSet:forceInt(attributesSet.true), attributeVals}\r\n    correlationResults\r\n\r\n  validate: ->\r\n    error = \"\"\r\n    initialDataLength = _.keys(@initialData).length\r\n    unless initialDataLength or @finalData.length\r\n      error = \"Please upload both the input data and the resulting data of the community detection algorithm.\"\r\n    else unless initialDataLength\r\n      error = \"Please upload the input data file used by the community detection algorithm.\"\r\n    else unless @finalData.length\r\n\r\n      error = \"Please upload the outputted communities file before continuing.\"\r\n    error\r\n\r\n  addOption: ->\r\n    @optionCount += 1\r\n    optionView = new OptionView({name:\"option#{@optionCount}\", headers:@initialData.header})\r\n    @$el.find(\"form\").append optionView.render().$el\r\n\r\n  getIndexes: (data) ->\r\n    indexes = []\r\n    for option, index in data\r\n      if option.value\r\n        indexes.push _.indexOf @initialData.header, option.value\r\n    indexes\r\n","tempViews = require '../libs/tempViews'\n$ = jQuery\n\nbindingFn = (selector, $) ->\n  (model, val) ->\n    $(selector).each ->\n      $elem = $(@)\n      if @tagName in [\"INPUT\", \"SELECT\"]\n        $elem.val(val)\n      else\n        $elem.text(val)\n\n\n\n# Base class for all views.\nmodule.exports = class View extends Backbone.View\n\n\n  init: ->\n  initialize: =>\n\n    @subViews = {}\n    @subViewsByType = {}\n\n    # We have to ensure a timeout so that parent views are rendered before\n    # child views\n    # Not sure why underscore defer didnt work here....\n    triggerSubViews = =>\n      for key, view of @subViews\n        do (view) ->\n          trigger = ->\n            view.trigger(\"visible\")\n          setTimeout trigger, 1\n\n\n    @init.apply this, arguments\n\n    @on \"visible\", triggerSubViews\n\n  template: ->\n    return\n\n  getRenderData: =>\n    @model.toJSON() if @model\n\n  className: \"main-view\"\n\n  render: =>\n    @$el.html (@template @getRenderData())\n    @renderTempViews()\n    @afterRender()\n    @setupBindings() if (@bindings and @model)\n    this\n\n  afterRender: ->\n    return\n\n  setupBindings: ->\n    for key, val of @bindings\n      @listenTo @model, \"change:#{key}\", bindingFn(val, @$)\n\n\n  dispose: ->\n    @trigger(\"remove\")\n    @undelegateEvents() # Remove dom events\n    @off() # Remove this views events\n    @model?.off(null, null, this) # Remove model events that have this views context\n    @collection?.off(null, null, this) # Remove collection events that have this views context\n    if @r # Remove Raphael events\n      @r.forEach (el) ->\n        el.off()\n    if $.fn.select2\n      @$('select').select2(\"destroy\")\n    view.dispose() for id, view of @subViews\n    delete @subViews\n    @model = null\n    @collection = null\n    @options = null\n    @remove()\n    @scroller?.destroy()\n    @scroller = null\n    clearTimeout(@timer)\n    #console.warn \"dispose\", @constructor.name, @subViews\n    this\n\n  modelOn: (event, callback) ->\n    @model.on event, callback, this\n\n  collectionOn: (event, callback) ->\n    @collection.on event, callback, this\n\n  detach: =>\n    @$el.detach()\n\n\n  renderTempViews: ->\n    view = @\n    #console.warn \"renderTemp\", view.constructor.name\n    @$('view').each ->\n      elem = $(@)\n      id = elem.attr(\"data-id\")\n      viewData = tempViews[id]\n      SubView = _.require viewData.viewName, \"views/#{viewData.viewName}\", \"BSM/views/#{viewData.viewName}\"\n      if _.isFunction(SubView)\n        view.subViews[id] = subView = new SubView _.extend({}, view.options, viewData.data)\n        view.subViewsByType[viewData.viewName] ?= []\n        view.subViewsByType[viewData.viewName].push subView\n        elem.replaceWith subView.el\n        #delete tempViews[id] #memory...\n\n      else\n        console.warn \"Invalid subview data\", viewData"]}